# Project1 冒烟测试说明（Smoke Tests）

## 一、目的说明

本目录用于存放 Project1（Punch Agent）的冒烟测试用例。

冒烟测试的目标不是覆盖所有场景，
而是在每次代码变更后，快速确认以下问题：

- 核心流程是否还能跑通
- 前后端接口是否出现破坏性变更
- 用户最基本的使用路径是否正常

当冒烟测试失败时，应优先修复，再继续后续开发。

---

## 二、测试范围

当前冒烟测试覆盖以下核心用户行为：

1. 作者（author）初始化与本地保存
2. 输入工作内容并提交
3. 打卡（Punch / Clock）主流程
4. 今日碎片列表刷新与展示
5. 页面刷新后的数据一致性

不覆盖：
- 性能极限
- 并发场景
- 权限与登录体系
- UI 细节样式

---

## 三、测试前置条件

- 后端服务已启动（backend）
- 前端页面可正常访问（frontend）
- 浏览器本地 localStorage 可用
- 使用当天日期进行测试

---

## 四、冒烟用例列表（示例）

| 用例编号 | 场景描述 | 操作步骤 | 预期结果 |
|--------|---------|---------|---------|
| SMK-01 | 首次进入设置作者 | 打开页面，输入 author | author 保存成功，刷新不丢失 |
| SMK-02 | 提交工作内容 | 输入文本并提交 | 返回 today_fragments，列表刷新 |
| SMK-03 | 未打卡状态提示 | 未打卡直接输入内容 | 页面轻提示“今日未打卡” |
| SMK-04 | 执行打卡 | 点击「帮我打卡」 | 后端处理成功，状态更新 |
| SMK-05 | 刷新页面 | 刷新浏览器 | 今日碎片仍可正确查询 |

---

## 五、设计原则（测试视角）

- 前端不关心 action 类型，只判断 today_fragments 是否为空
- 所有状态变化应能通过接口返回数据验证
- UI 提示不阻断主流程，只做引导
- 出现异常优先保证页面不崩溃

---

## 六、后续可扩展方向（未实现）

- 异常接口返回模拟（500 / 超时）
- 并发提交与顺序一致性
- Agent tool 调用失败兜底策略
- 自动化冒烟测试（Playwright / 接口层）

